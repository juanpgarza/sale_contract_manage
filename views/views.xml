<odoo>
  <data>
 
    <!-- 
    ##################################################
        sale.order 
    ##################################################
    -->
    <record model="ir.ui.view" id="view_sale_contract_tree">
        <field name="model">sale.order</field>
        <field eval="10" name="priority"/>
        <field name="arch" type="xml">
            <!-- <tree create="1" update="1" delete="1"> -->
            <tree>
                <!-- <field name="default_code"/> -->
                <field name="id" invisible="0"/>
                <field name="fecha_contrato" invisible="0"/>
                <field name="partner_id" invisible="0"/>
                <field name="state" invisible="1"/>
            </tree>
        </field>
    </record>


        <record model="ir.actions.act_window" id="empleados_asignados_action">
            <field name="name">Empleados</field>
            <field name="context">{'search_default_order_id': active_id}</field>
            <field name="res_model">sale.contract.employee</field>
        </record>

    <record model="ir.ui.view" id="view_sale_contract_form">
        <!-- <field name="name">Operation Types</field> -->
        <field name="model">sale.order</field>
        <field name="arch" type="xml">
            <form string="Contratos">
                <header>
                    <field name="state" widget="statusbar" statusbar_visible="draft,sent,sale"/>
                </header>
              <sheet>
                <div class="oe_button_box" name="button_box">

                    <button name="%(empleados_asignados_action)d" icon="fa-arrows" class="oe_stat_button" string="Empleados Asignados" type="action"/>
                </div>

                    <group> 
                        <group>
                            <field name="id"/>
                            <field name="partner_id"/>
                        </group>
                        <group>
                            <field name="fecha_contrato"/>
                            <field name="state"/>
                        </group>
                    </group>
                    <notebook>
                        <page string="Empleados">
                            <field name="employee_ids">                    
                                <tree string="Empleados" create="0" update="0">
                                    <field name="employee_id"/>
                                    <field name="requisitos_completos"/>
                                </tree>
                            </field>
                        </page>
                        <page string="Vehiculos">
                            <field name="vehicle_ids" widget="one2many_list">                    
                                <tree string="Vehiculos" editable="bottom">
                                    <field name="vehicle_id" />
                                </tree>
                            </field>
                        </page>
                    </notebook>
                </sheet>
                <div class="oe_chatter">
                    <field name="message_follower_ids" widget="mail_followers" />
                    <field name="message_ids" widget="mail_thread" />
                </div>
            </form>
        </field>
    </record>	

    <!-- 
    ##################################################
        sale.contract.employee 
    ##################################################
    -->
    
    <record model="ir.ui.view" id="view_sale_contract_employee_tree">
        <field name="model">sale.contract.employee</field>
        <field eval="10" name="priority"/>
        <field name="arch" type="xml">
            <!-- <tree create="1" update="1" delete="1"> -->
            <tree>
                <!-- <field name="default_code"/> -->
                <field name="id" invisible="0"/>
                <field name="employee_id" invisible="0"/>
                <field name="order_id" invisible="0"/>
                <field name="requisitos_completos"/>
            </tree>
        </field>
    </record>

    <record model="ir.ui.view" id="view_sale_contract_employee_form">
        <field name="model">sale.contract.employee</field>
        <field name="arch" type="xml">
            <form string="Empleado afectado a contrato">
              <sheet>

                    <group> 
                        <group>
                            <field name="id"/>
                            <field name="employee_id"/>
                        </group>
                        <group>
                            <field name="order_id"/>
                            <field name="fecha_alta_contrato"/>                                                       
                        </group>
                    </group>
                </sheet>
                <div class="oe_chatter">
                    <field name="message_follower_ids" widget="mail_followers" />
                    <field name="message_ids" widget="mail_thread" />
                </div>
            </form>
        </field>
    </record>

    <record id="view_sale_contract_employee_search" model="ir.ui.view">
        <field name="model">sale.contract.employee</field>
        <field name="arch" type="xml">
            <search>
                <field name="order_id"/>
            </search>
        </field>
    </record>

    <!-- 
    ##################################################
        fleet.vehicle.log.contract 
    ##################################################
    -->

    <record model="ir.ui.view" id="fleet_vehicle_log_contract_view_tree_inherit">
        <field name="model">fleet.vehicle.log.contract</field>
        <field name="inherit_id" ref="fleet.fleet_vehicle_log_contract_view_tree"/>
        <field name="arch" type="xml">            

            <field name="amount" position='replace'>
                <field name="amount" invisible="1"/>
            </field>

            <field name="cost_generated" position='replace'>
                <field name="cost_generated" invisible="1"/>
            </field>

            <field name="cost_frequency" position='replace'>
                <field name="cost_frequency" invisible="1"/>
            </field>

        </field>
    </record>

  </data>
</odoo>